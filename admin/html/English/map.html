<!DOCTYPE html>
<!-- saved from url=(0093)http://www.17sucai.com/preview/1528155/2019-02-27/kj/admin-default/admin_left_menu/index.html -->
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="description" content="bootstrap default admin template">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>map</title>


    <!-- Start global css -->
    <link rel="stylesheet" href="../../common/css/waves.min.css">
    <link rel="stylesheet" href="../../common/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../common/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../common/css/iconfont.css">
    <!-- End global css -->

    <!-- Start page plugin css -->
    <link rel="stylesheet" href="../../common/css/jqvmap.css">
    <!-- End page plugin css -->

    <!-- Start template global css -->
    <link href="../../common/css/components.min.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" href="../../common/css/easyui.css">
    <!-- End template global css -->

    <!-- Start layout css -->
    <link rel="stylesheet" href="../../common/css/left_menu_layout.min.css">
    <link rel="stylesheet" href="../../common/css/sidebar-menu.css">
    <link rel="stylesheet" href="https://cache.amap.com/lbs/static/main1119.css"/>
    <!--<link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css"/>-->

    <link rel="stylesheet" href="../../common/css/index.css">
    <link rel="stylesheet" href="../../common/css/English.css">
    <!-- End layout css -->

    <!-- Start favicon ico -->
    <link rel="icon" href="http://www.17sucai.com/preview/1528155/2019-02-27/kj/assets/favicon/prince.ico"
          type="image/x-icon">
    <link rel="icon" type="image/png" sizes="192x192"
          href="http://www.17sucai.com/preview/1528155/2019-02-27/kj/assets/favicon/prince-192x192.png">
    <link rel="apple-touch-icon" sizes="180x180"
          href="http://www.17sucai.com/preview/1528155/2019-02-27/kj/assets/favicon/prince-180x180.png">

</head>
<body class="nav-medium loadbar">
<div class="container body">
    <div class="main_container">
        <div class="col-md-3 left_color bg_bla">
            <div class="left_color scroll-view">
                <aside class="main-sidebar">
                    <section class="sidebar">
                        <ul class="sidebar-menu">
                            <li class="header logo"><img src="../../common/images/logo@2x.png" alt="logo"
                                                         class="img-responsive"></li>
                            <li class="notice"><i class="fa fa-volume-up"></i>Welcome to use XinZiDa Equipment Management System</li>
                            <li class="treeview">
                                <a href="index.html">
                                    <i class="iconfont icon-shouye1"></i><span>Home </span>
                                </a>
                            </li>
                            <li class="treeview">
                                <a href="camera.html" class="dropdown-toggle">
                                    <i class="iconfont icon-deng"></i>
                                    <span class="menu-text"> Lamp list </span>

                                    <i class="iconfont icon-jia pull-right change_icon"></i>
                                </a>
                                <ul class="treeview-menu">
                                    <li>
                                        <a href="lamp.html" class="dropdown-toggle">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            <span class="menu-text">  Lamp list</span>
                                        </a>


                                    </li>
                                </ul>
                            </li>
                            <li class="treeview">
                                <a href="camera.html" class="dropdown-toggle">
                                    <i class="iconfont icon-shiping-xue"></i>
                                    <span class="menu-text"> Camera management </span>

                                    <i class="iconfont icon-jia pull-right change_icon"></i>
                                </a>
                                <ul class="treeview-menu">
                                    <li>
                                        <a href="#" class="dropdown-toggle">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            <span class="menu-text">  Camera management</span>
                                        </a>


                                    </li>
                                </ul>
                            </li>

                            <li class="treeview">
                                <a href="#" class="dropdown-toggle">
                                    <i class="iconfont icon-deng1"></i>
                                    <span class="menu-text"> Lighting management </span>

                                    <i class="iconfont icon-jia pull-right change_icon"></i>
                                </a>

                                <ul class="treeview-menu">
                                    <li>
                                        <a href="light.html" class="dropdown-toggle">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            Lighting management
                                        </a>

                                    </li>

                                    <li>
                                        <a href="timeState.html">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            Real time state
                                        </a>
                                    </li>
                                    <li>
                                        <a href="control.html">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            centralized control
                                        </a>
                                    </li>
                                    <li>
                                        <a href="planIssued.html">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            Plan issued
                                        </a>
                                    </li>
                                    <li>
                                        <a href="deviceManagement.html">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            Device management
                                        </a>
                                    </li><li>
                                    <a href="timePlan.html">
                                        <i class="iconfont icon-xiangyou2"></i>
                                        Time plan
                                    </a>
                                </li>
                                    <li>
                                        <a href="outputMode.html">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            Brightness mode
                                        </a>
                                    </li>
                                    <li>
                                        <a href="singleLamp.html">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            Illumination map
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="treeview">
                                <a href="#" class="dropdown-toggle">
                                    <i class="iconfont icon-yiliaohangyedeICON-"></i>
                                    <span class="menu-text"> User management </span>

                                    <i class="iconfont icon-jia pull-right change_icon"></i>
                                </a>
                                <ul class="treeview-menu">
                                    <li>
                                        <a href="userlist.html" class="dropdown-toggle">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            <span class="menu-text">  User management</span>
                                        </a>


                                    </li>
                                    <li>
                                        <a href="role.html" class="dropdown-toggle">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            <span class="menu-text">  Role management</span>
                                        </a>


                                    </li>
                                </ul>
                            </li>
                            <li class="treeview">
                                <a href="#">
                                    <i class="iconfont icon-guanggao"></i>
                                    <span>Advertising management</span>
                                    <i class="iconfont icon-jia pull-right change_icon"></i>
                                </a>
                                <ul class="treeview-menu">
                                    <li>
                                        <a href="ad.html">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            Advertising management
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="treeview">
                                <a href="#" class="dropdown-toggle">
                                    <i class="iconfont icon-dianchibattery142"></i>
                                    Charging Pile Management
                                    <i class="iconfont icon-jia pull-right change_icon"></i>
                                </a>
                                <ul class="treeview-menu">
                                    <li>
                                        <a href="#">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            Charging Pile Management
                                        </a>
                                    </li>

                                </ul>
                            </li>
                            <li class="treeview">
                                <a href="#" class="dropdown-toggle">
                                    <i class="iconfont icon-wifi"></i>
                                    wifi  Management
                                    <i class="iconfont icon-jia pull-right change_icon"></i>
                                </a>
                                <ul class="treeview-menu">
                                    <li>
                                        <a href="#">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            wifi  Management
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="treeview">
                                <a href="#" class="dropdown-toggle">
                                    <i class="iconfont icon-baojingxiaoxi"></i>
                                    One touch alarm

                                    <i class="iconfont icon-jia pull-right change_icon"></i>
                                </a>
                                <ul class="treeview-menu">
                                    <li>
                                        <a href="#">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            One touch alarm
                                        </a>
                                    </li>


                                </ul>
                            </li>
                            <li class="treeview">
                                <a href="#" class="dropdown-toggle">
                                    <i class="iconfont icon-guzhangleixing"></i>
                                    Fault management
                                    <i class="iconfont icon-jia pull-right change_icon"></i>
                                </a>
                                <ul class="treeview-menu">
                                    <li>
                                        <a href="#" class="dropdown-toggle">
                                            <i class="iconfont icon-xiangyou2"></i>
                                            Fault management
                                            <!--<i class="iconfont icon-jia pull-right change_icon"></i>-->
                                        </a>
                                    </li>

                                </ul>
                            </li>
                            <li class="treeview">
                                <a href="map.html">
                                    <i class="iconfont icon-address"></i>
                                    <sapn>Display map</sapn>
                                </a>
                            </li>
                        </ul>
                    </section>
                </aside>
            </div>
        </div>
        <div class="top_nav">
            <div class="nav_menu nav_menu_content">
                <nav>
                    <div class="nav toggle">
                        <a id="menu_toggle"><i class="fa fa-bars"></i></a>
                    </div>
                    <div class="login_history">
                        <div class="hello_txt"><span class="user_name">xxx</span>, Welcome back!</div>
                        <div class="ip_adress">The IP address of the last login:<span class="ip_num">188.188.188.18</span></div>
                        <div class="login_time">Last logon time:<span class="time_txt">2018-12-26 </span></div>
                    </div>

                    <div class="topbar-right">
                        <div class="nav navbar-nav navbar-right">
                            <div class="home_link">
                                <a href="#"><i class="fa fa-home"></i>Home</a>
                            </div>
                            <div class="dropdown header-notification right-icon home_link">
                                <a href="javascript:" class="dropdown-toggle waves-effect waves-light notification-icon"
                                   data-toggle="dropdown" aria-expanded="false">
                                    <i class="fa fa-bell-o" aria-hidden="true"></i>

                                    <span class="label label-danger">5</span>
                                </a>
                                <span class="note">News</span>
                                <ul class="dropdown-menu">
                                    <li class="text-center">
                                        <p class="notification-title">Notification<span
                                                class="label label-primary">4</span></p>
                                    </li>
                                    <div class="slimScrollDiv"
                                         style="position: relative; overflow: hidden; width: auto; height: 250px;">
                                        <li class="list-group default-scroll"
                                            style="overflow: hidden; width: auto; height: 250px;">
                                            <a href="javascript:;" class="list-group-item">
                                                <div class="media">
                                                    <div class="pull-left">
                                                        <img src="../../common/images/user10.jpg" alt="user">
                                                    </div>
                                                    <div class="media-body">
                                                        <h5 class="media-heading"><span>Domance Den</span> posted a
                                                            photo on
                                                            your wall.</h5>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="javascript:;" class="list-group-item">
                                                <div class="media">
                                                    <div class="pull-left">
                                                        <img src="../../common/images/user10.jpg" alt="user">
                                                    </div>
                                                    <div class="media-body">
                                                        <h5 class="media-heading"><span>Wikko Menta</span> commented on
                                                            your
                                                            last video.</h5>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="javascript:;" class="list-group-item">
                                                <div class="media">
                                                    <div class="pull-left">
                                                        <img src="../../common/images/user10.jpg" alt="user">
                                                    </div>
                                                    <div class="media-body">
                                                        <h5 class="media-heading"><span>Jonny Sem</span> posted 4
                                                            comments
                                                            on your photo.</h5>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="javascript:;" class="list-group-item">
                                                <div class="media">
                                                    <div class="pull-left">
                                                        <img src="../../common/images/user10.jpg" alt="user">
                                                    </div>
                                                    <div class="media-body">
                                                        <h5 class="media-heading"><span>Doli Senga</span> posted a photo
                                                            on
                                                            your wall.</h5>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="javascript:;" class="list-group-item">
                                                <div class="media">
                                                    <div class="pull-left">
                                                        <img src="../../common/images/user10.jpg" alt="user">
                                                    </div>
                                                    <div class="media-body">
                                                        <h5 class="media-heading"><span>Bhura Kenta</span> commented on
                                                            your
                                                            last video.</h5>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="javascript:;" class="list-group-item">
                                                <div class="media">
                                                    <div class="pull-left">
                                                        <img src="../../common/images/user10.jpg" alt="user">
                                                    </div>
                                                    <div class="media-body">
                                                        <h5 class="media-heading"><span>Jolly Baby</span> posted 2
                                                            comments
                                                            on your photo.</h5>
                                                    </div>
                                                </div>
                                            </a>

                                        </li>
                                        <div class="slimScrollBar"
                                             style="background: rgb(170, 170, 170); width: 5px; position: absolute; top: 0px; opacity: 0; display: block; border-radius: 7px; z-index: 99; right: 1px;"></div>
                                        <div class="slimScrollRail"
                                             style="width: 5px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51); opacity: 0.2; z-index: 90; right: 1px;"></div>
                                    </div>
                                    <li class="all-notification">
                                        <a href="javascript:;" class="list-group-item text-right">
                                            <small>See all notifications</small>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="home_link">
                                <a href="#"><img src="../../common/images/xitong@2x.png" alt="">System management</a>
                            </div>
                            <div class="home_link">
                                <a href="#"><i class="fa fa-reply"></i>Return</a>
                            </div>
                            <div class="dropdown user-profile right-icon anvant_border">
                                <a href="javascript:" class="dropdown-toggle waves-effect waves-light"
                                   data-toggle="dropdown" aria-expanded="false">
                                    <img src="../../common/images/user10.jpg" alt="user">
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="javascript:" class="waves-effect waves-light">
                                        <i class="fa fa-user" aria-hidden="true"></i>Profile</a>
                                    </li>
                                    <li><a href="javascript:" class="waves-effect waves-light">
                                        <i class="fa fa-cog" aria-hidden="true"></i>Settings</a>
                                    </li>
                                    <li><a href="javascript:" class="waves-effect waves-light">
                                        <i class="fa fa-lock" aria-hidden="true"></i>Lock screen</a>
                                    </li>
                                    <li role="separator" class="divider"></li>
                                    <li><a href="javascript:" class="waves-effect waves-light">
                                        <i class="fa fa-power-off text-danger" aria-hidden="true"></i> Logout</a>
                                    </li>
                                </ul>
                            </div>

                        </div>

                    </div>
                </nav>
            </div>
        </div>
        <div class="page-main-header page_title">
            <!-- Page Title -->
            <h2 class="page-name-title"><i class="iconfont icon-ditu"></i><span>map</span></h2>
            <!--  Breadcrumb -->
            <ol class="breadcrumb breadcrumb_content"><span class="here_txt">Here you are：</span>
                <li>
                    <a href="#">map</a>
                </li>
                <li class="text-info">list</li>

            </ol>
        </div>
        <div class="container-fluid right_color main_box" >
            <div class="side_content">
                <form class="clearfix select_map_form">
                    <div class="left"> <div class="distpicker clearfix">
                        <div class="left ">
                            <select id="province" name="province">
                            </select>
                            <select id="city" name="city">
                            </select>
                            <select name="county" id="county">
                            </select>
                        </div>
                    </div>
                    </div>
                    <div class="left">
                        <div class="clearfix select_funcion">
                            <p class="left">Select menu：</p>
                            <div class="left menu_select_list">
                                <div class="item_select left"><input class="easyui-radiobutton" name="selectMenu" value="照明管理" label="照明管理"></div>
                                <div class="item_select left"><input class="easyui-radiobutton" name="selectMenu" value="广告管理" label="广告管理"></div>
                                <div class="item_select left"><input class="easyui-radiobutton" name="selectMenu" value="环境监测" label="环境监测"></div>
                            </div>
                        </div></div>
                </form>
                <div id="allmapContent" >

                    <div id="map2"  style="width: 100%;height: calc(100vh - 219px);"></div>

                    <div id="pickerBox">
                        <div class="picker_img"><img src="../../common/images/shebei@2x.png" alt="" class=""></div>

                        <input id="pickerInput" placeholder="search device" />
                        <i class="iconfont icon-sousuo" onclick="theLocation()"></i>
                        <div id="poiInfo"></div>
                    </div>




                </div>
            </div>
        </div>
    </div>
</div>
<div id="back-to-top">
    <i class="iconfont icon-huidaodingbu"></i>
</div>
</div>
</div>

<!--!&#45;&#45; Start core js &ndash;&gt;-->
<script src="../../common/js/jquery.min.js"></script>
<!--<script src="../../common/js/bootstrap.min.js"></script>-->
<script src="../../common/js/easyui.min.js"></script>
<script src="../../common/js/jquery.slimscroll.js"></script>
<script src="../../common/js/left-menu.min.js"></script>
<!--<script src="../../common/js/moment.min.js"></script>-->
<script src="../../common/js/sidebar-menu.js"></script>
<!--<script src="../../common/js/index.jsx"></script>-->
<script src="../../common/js/English.area.js"></script>
<script src="../../common/js/English.demo.js"></script>
 <script type="text/javascript"
          src="https://api.map.baidu.com/api?v=2.0&amp;ak=rWrsNfzUNW78LLCEQ2eONgG1bXalF74X"></script>
<script type="text/javascript"
        src="https://api.map.baidu.com/getscript?v=2.0&amp;ak=rWrsNfzUNW78LLCEQ2eONgG1bXalF74X"></script>
<script type="text/javascript" src="http://api.map.baidu.com/library/InfoBox/1.2/src/InfoBox.js"></script>

<script>
    $.sidebarMenu($('.sidebar-menu'))
    // $(".distpicker").distpicker();
</script>

​
<script type="text/javascript">
    $(function () {
        map.centerAndZoom(new BMap.Point(116.404, 39.915), 12);
        map.enableScrollWheelZoom(true); //启用滚轮放大缩小
        //向地图中添加缩放控件
        var ctrlNav = new window.BMap.NavigationControl({
            anchor: BMAP_ANCHOR_TOP_LEFT,
            type: BMAP_NAVIGATION_CONTROL_LARGE
        });
        map.addControl(ctrlNav);

        //向地图中添加缩略图控件
        var ctrlOve = new window.BMap.OverviewMapControl({
            anchor: BMAP_ANCHOR_BOTTOM_RIGHT,
            isOpen: 1
        });
        map.addControl(ctrlOve);

        //向地图中添加比例尺控件
        var ctrlSca = new window.BMap.ScaleControl({
            anchor: BMAP_ANCHOR_BOTTOM_LEFT
        });
        map.addControl(ctrlSca);

        loadPlace()
        markerInfoBox()
    })
        function markerInfoBox() {
            map.addEventListener("click", function (e) {    //给地图添加点击事件

                var lng = e.point.lng;
                var lat = e.point.lat;
                //创建标注位置
                var newPoint = new BMap.Point(lng, lat);
                var url ='../../common/images/map/24.png';
                var myIcon = new BMap.Icon(url,new BMap.Size(50,50));//这里先不用第三个参数IconOptions
                var marker = new BMap.Marker(newPoint, {icon:myIcon});
                var info = "<div class='infoBox'><div class='title'>Add lamp</div>   <div class=\"content\"><form  class=\"pop_form marker_form\">\n" +
                    "                        <div ><span>Name：&nbsp;&nbsp;</span><input type=\"text\" name='lampName' placeholder=\"Name the lamppost\"></div>\n" +
                    "                        <div ><span>ID：&nbsp;&nbsp;</span><input type=\"text\" name='id' placeholder=\"ID\"></div>\n" +
                    "                        <div class=\"modal-footer no_border flex map_form\">\n" +
                    "                            <button type=\"button\" class=\"btn  cancel_modal_btn\"  ​>cancel</button><button type=\"button\" class=\"btn btn-success  sumbit_modal_btn\">submit</button></div>\n" +
                    "                    </form></div><div class=\"popup-triangle\"></div></div>"
                var infoBox = new BMapLib.InfoBox(map, info, {
                    boxStyle: {
                        width: "400px",
                        height: "300px",
                        marginBottom: "35px",
                        backgroundColor: "white"
                    }
                    , closeIconMargin: "5px 4px 4px 4px"
                    , closeIconUrl: "../../common/images/close.png"
                    ,closeIconWidth:'20px'
                    , enableAutoPan: true
                    , align: INFOBOX_AT_TOP
                });

                map.addOverlay(marker);              // 将标注添加到地图中
                marker.addEventListener("click", function () {
                    infoBox.open(newPoint);
                    event.stopPropagation();
                    $(".sumbit_modal_btn").click(function(event){
                        //获取元素的值，val() 方法返回或设置被选元素的值。
                        var name = $("[name='lampName']").val();
                        //判断值是否为空
                        if(name==""){
                            //提示信息
                            alert("文本框的值不能为空");

                            //阻止默认行为 ( 表单提交 )
                            event.preventDefault();
                        }else{
                            infoBox.close()

                        }
                    });
                    $(".cancel_modal_btn").click(function () {
                        infoBox.close()


                    })

                });
            })
        }









    var map = new BMap.Map("map2"); // 创建Map实例
    var point;

    //根据经纬度显示地区
    function loadPlace(longitude, latitude, level) {
        if (parseFloat(longitude) > 0 || parseFloat(latitude) > 0) {
            level = level || 12;
            //绘制地图

            point = new BMap.Point(longitude, latitude); //地图中心点
            map.centerAndZoom(point, level); // 初始化地图,设置中心点坐标和地图级别。
            map.setCurrentCity("北京");

        }
    }

    // 创建位置检索、周边检索和范围检索
    var local = new BMap.LocalSearch(map, {
        renderOptions: {
            map: map,panel: "searchlist"
        }
    });
    // 发起检索
    createAutocomlete()
    function theLocation() {
        var province = $("#province").val();
        var city = $("#city").val()
        var county = $("#county").val();
        var address = $("#pickerInput").val();
        local.search(province + city + county + address);
    };

    function createAutocomlete() {
        var map = window.map;
        var ac = new BMap.Autocomplete(    //建立一个自动完成的对象
            {
                "input": "pickerInput",
                "location": map
            });
        ac.addEventListener("onconfirm", function (e) {    //鼠标点击下拉列表后的事件
            var _value = e.item.value;
            var addr =_value.business+ _value.province + _value.city + _value.district + _value.street + _value.streetNumber ;
            theLocation(addr)
        });
    }
    $("#pickerInput").keydown(function(e) {
        if (e.keyCode == 13) {
            theLocation()
        }
    });
    $("#pickerInput").on(" input propertychange",function() {
        theLocation()
    })





</script>





</body>
</html>